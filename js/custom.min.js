function validation_fail(e,t){e.addClass("error"),jQuery("#btnCompleteProductConfig").attr("disabled","disabled"),e.next().hasClass("errortext")||e.after('<small class="errortext" style="display:block">'+t+"</small>")}function validation_pass(e){jQuery("#btnCompleteProductConfig").removeAttr("disabled"),e.removeClass("error"),e.siblings(".errortext").remove()}function ws_showloginform(){"new"==jQuery("#custtype").val()?(jQuery("#custtype").val("existing"),jQuery("#signupfrm").fadeToggle("slow",function(){jQuery("#loginfrm").fadeToggle()})):(jQuery("#custtype").val("new"),jQuery("#loginfrm").fadeToggle("slow",function(){jQuery("#signupfrm").fadeToggle()}))}function sanitize_domain(e,t=!1,a=!0){var n=e.val();if(""==n)return n;if(n=n.replace(/^(https?:\/\/)?(www\.)?/g,""),n=n.replace(/(:\d+)?$/g,""),n=n.replace(/[^a-zA-Z0-9\-\.]/g,""),n=n.toLowerCase(),-1!==e.attr("id").indexOf("tld")||1==t){if(!a)return n;e.val(n)}else{var i=n.split(/\.(.*)/);if(""!=i[0]){if(!a)return i[0];if(e.val(i[0]),void 0===i[1])return}}}function sanitize_hostname(e){return sanitize_domain(e,!0,!1)}function card_type_get_visual(e){switch(e){case"visa":return"Visa";case"mastercard":return"Mastercard";case"amex":return"American Express";case"discover":return"Discover";case"jcb":return"JCB";case"diners-club":return"Diners Club";default:return"Credit Card"}}function card_type_get_fontawesome(e){switch(e){case"visa":return"fa-cc-visa";case"mastercard":return"fa-cc-mastercard";case"amex":return"fa-cc-amex";case"discover":return"fa-cc-discover";case"jcb":return"fa-cc-jcb";case"diners-club":return"fa-cc-diners-club";default:return"fa-credit-card"}}jQuery(document).ready(function(e){function t(){jQuery.each(s,function(e,t){var n=jQuery(t);n.length>0&&(a(n),n.change(function(){a(n)}))})}function a(t){var a=null,i=null;1===t.length?(t.siblings(".option-info").remove(),a=n(t),i=t.parents(".form-group")):t.each(function(t){e(this).prop("checked")&&(e(this).parents(".col-sm-6").find(".option-info").remove(),a=n(e(this)),i=e(this).parents(".form-group"))}),null!=a&&(a.match("DIY Troubleshooting")&&i.append('<div class="warntext option-info" style="display:block"><i class="fas fa-exclamation-triangle"></i> Warning: no support is included with this option. We’ve got guides, you’ve got Google! Pick this option if you really know what you’re doing or are happy to learn as you go. We’re hands-off with support on these accounts, and will direct you to guides and resources, but won’t be able to take an active role in troubleshooting.</div>'),a.match("Managed Troubleshooting")&&i.append('<div class="infotext option-info" style="display:block"><i class="fa fa-info-circle"></i> Seeing warnings about PHP, a plugin conflict, or something strange in the logs? Let us know and we’ll investigate. Managed Troubleshooting means no additional charges for investigating / repairing conflicts, or many other frustrating and challenging tasks!</div>'),a.match("Hands-On Support")&&i.append('<div class="infotext option-info" style="display:block"><i class="fa fa-info-circle"></i> Hands-On Support includes Managed Troubleshooting, uptime monitoring + automatic response, security and performance optimizations, and 30 minutes of monthly FlexTime! Rather than just site troubleshooting, our team will be standing by to help with website changes, content updates, code alterations and more!</div>'))}function n(e){return text="",text=e.find("option:selected").text(),""==text&&(optid=e.attr("id"),text=jQuery('label[for="'+optid+'"]').text(),""==text&&(text=e.parents("label").text())),text}if(jQuery("html.cart").length>0&&jQuery("html.cart #content").prepend('<div id="stepsbox-container"><div class="stepsbox inactive"><a href="cart.php">Choose Service</a></div><div class="stepsbox inactive">Domain Options</div><div class="stepsbox inactive">Configure Service</div><div class="stepsbox inactive"><a href="cart.php?a=view">Cart</a></div><div class="stepsbox inactive"><a href="cart.php?a=checkout">Checkout</a></div></div>'),jQuery("body.cart").length>0){jQuery("body.cart ol.breadcrumb").append('<!--<li class="breadcrumb-item"><a href="cart.php">Choose Service</a></li>--><li class="breadcrumb-item"><a>Domain Options</a></li><li class="breadcrumb-item"><a>Configure Services/Domains</a></li><li class="breadcrumb-item"><a href="cart.php?a=view">Cart</a></li><li class="breadcrumb-item"><a href="cart.php?a=checkout">Checkout</a></li>');var i=new window.URLSearchParams(window.location.search),r=1;switch(i.get("a")){case"add":r=2;break;case"confproduct":case"confdomains":r=3;break;case"view":r=4;break;case"checkout":r=5}bc_selector="body.cart ol.breadcrumb li:nth-child("+r+")",jQuery(bc_selector).addClass("active"),jQuery("body.cart ol.breadcrumb").scrollLeft(jQuery(bc_selector).position().left)}if(jQuery("#registersld").length>0&&jQuery("#registersld").change(function(){sanitize_domain(jQuery("#registersld"))}),jQuery("#transfersld").length>0&&jQuery("#transfersld").change(function(){sanitize_domain(jQuery("#transfersld"))}),jQuery("#owndomainsld").length>0&&jQuery("#owndomainsld").change(function(){sanitize_domain(jQuery("#owndomainsld"),!0)}),jQuery("#owndomaintld").length>0&&jQuery("#owndomaintld").change(function(){sanitize_domain(jQuery("#owndomaintld"))}),jQuery("#inputHostname").length>0){var o=jQuery("#inputHostname");o.after('<small class="infotext"><i class="fa fa-info-circle"></i> This is the name for your server, often a subdomain of your website or organization. If you do not have a domain to use, you may use [a_name].myserver.ws and we will configure the DNS for you.</small>'),o.keyup(function(){ws_delay(function(){var e=sanitize_hostname(o);o.val(e),-1!==e.indexOf(".")?validation_pass(o):validation_fail(o,'<i class="fa fa-warning"></i> A hostname must be a domain or subdomain like xyz.com or sub.xyz.com')},1e3)})}jQuery("#inputNs1prefix").length>0&&jQuery("#inputNs1prefix").val("none"),jQuery("#inputNs2prefix").length>0&&jQuery("#inputNs2prefix").val("none"),jQuery("input[name=rootpw]").length>0&&jQuery("input[name=rootpw]").val(randString(30)).attr("readonly","true").after('<small class="infotext"><i class="fa fa-info-circle"></i> A secure password has been automatically generated for you. You will be able to view this password securely in the Client Centre after the server has been provisioned.</small>'),e('a[href="contact.php"').text("Click here to chat!"),e('a.tawk,a[href="contact.php"').click(function(){return Tawk_API.toggle(),!1});const s=["input[name='configoption[63]']"];jQuery("[name='billingcycle'").change(function(){setTimeout(function(){t()},800)}),t(),jQuery(".domain-config .extra-domain-fields").length>0&&jQuery(".domain-config").each(function(e){jQuery('select[name="domainfield['+e+'][0]"] option[value="Corporation"]:selected')&&jQuery('select[name="domainfield['+e+'][0]"]').val("Canadian Citizen").css("pointer-events","none").after("<div><small><em>Legal type cannot be changed as we are only able to register .ca domains to Canadian Citizens.</em></small></div>"),jQuery('input[type="checkbox"][name="domainfield['+e+'][1]"]').parent().iCheck("check"),jQuery('input[type="checkbox"][name="domainfield['+e+'][2]"]').parent().iCheck("check")}),jQuery("form[name=orderfrm]").length>0&&jQuery("select#stateselect").ready(function(){jQuery(this).change(function(){var e=jQuery("form[name=orderfrm] .alert.alert-success.text-center.large-text strong");e.html('<i class="fa fas fa-spinner fa-spin"></i>'),jQuery.post("cart.php",{ajax:1,calctotal:!0,configure:!0,a:"setstateandcountry",state:jQuery("#stateselect").val(),country:jQuery("#inputCountry").val()}).done(function(t){var a=jQuery(t).find("#totalDueToday").html();e.html(a)})})})});var ws_delay=function(){var e=0;return function(t,a){clearTimeout(e),e=setTimeout(t,a)}}();"function"!=typeof randString&&(window.randString=function(e){for(var t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",a="",n=0;n<e;n++)a+=t.charAt(Math.floor(Math.random()*t.length));return a});