function validation_fail(e,t){e.addClass("error"),jQuery("#btnCompleteProductConfig").attr("disabled","disabled"),e.next().hasClass("errortext")||e.after('<small class="errortext" style="display:block">'+t+"</small>")}function validation_pass(e){jQuery("#btnCompleteProductConfig").removeAttr("disabled"),e.removeClass("error"),e.siblings(".errortext").remove()}function ws_showloginform(){"new"==jQuery("#custtype").val()?(jQuery("#custtype").val("existing"),jQuery("#signupfrm").fadeToggle("slow",function(){jQuery("#loginfrm").fadeToggle()})):(jQuery("#custtype").val("new"),jQuery("#loginfrm").fadeToggle("slow",function(){jQuery("#signupfrm").fadeToggle()}))}function sanitize_domain(e,t=!1,a=!0){var n=e.val();if(""==n)return n;if(n=n.replace(/^(https?:\/\/)?(www\.)?/g,""),n=n.replace(/(:\d+)?$/g,""),n=n.replace(/[^a-zA-Z0-9\-\.]/g,""),n=n.toLowerCase(),-1!==e.attr("id").indexOf("tld")||1==t){if(!a)return n;e.val(n)}else{var i=n.split(/\.(.*)/);if(""!=i[0]){if(!a)return i[0];if(e.val(i[0]),void 0===i[1])return}}}function sanitize_hostname(e){return sanitize_domain(e,!0,!1)}function card_type_get_visual(e){switch(e){case"visa":return"Visa";case"mastercard":return"Mastercard";case"amex":return"American Express";case"discover":return"Discover";case"jcb":return"JCB";case"diners-club":return"Diners Club";default:return"Credit Card"}}function card_type_get_fontawesome(e){switch(e){case"visa":return"fa-cc-visa";case"mastercard":return"fa-cc-mastercard";case"amex":return"fa-cc-amex";case"discover":return"fa-cc-discover";case"jcb":return"fa-cc-jcb";case"diners-club":return"fa-cc-diners-club";default:return"fa-credit-card"}}function ws_update_addon_cycle_pricing(){var e=jQuery("#inputBillingcycle").find(":selected").val();jQuery(".addon-products .panel-addon").each(function(){var t=jQuery(this).find("label").text(),a=jQuery(this).find("label input").attr("name"),n=jQuery(this).find(".panel-price");if(-1===n.text().indexOf("One Time"))jQuery.post("cart.php",{ajax:1,a:"confproduct",calctotal:!0,configure:!0,i:0,billingcycle:e,[a]:"on"}).done(function(e){jQuery(e).find(".pull-left").each(function(){jQuery(this).text().indexOf(t.trim())>-1&&n.text(jQuery(this).siblings(".pull-right").text())})})})}jQuery(document).ready(function(){function e(){jQuery.each(r,function(e,a){var n=jQuery(a);n.length>0&&(t(n),n.change(function(){t(n)}))})}function t(e){e.siblings(".option-info").remove(),e.find("option:selected").text().match("DIY Troubleshooting")&&e.after('<div class="infotext option-info" style="display:block"><i class="fa fa-info-circle"></i> We’ve got guides, you’ve got Google! Pick this option if you really know what you’re doing or are happy to learn as you go. We’re hands-off with support on these accounts, and will direct you to guides and resources, but won’t be able to take an active role in troubleshooting.</div>'),e.find("option:selected").text().match("Managed Troubleshooting")&&e.after('<div class="infotext option-info" style="display:block"><i class="fa fa-info-circle"></i> At Websavers, we believe good hosting should come with more. That’s why our default selection is managed troubleshooting. Worried your site has been compromised? We’ve got your back. Receiving warnings about PHP, a plugin conflict, or something strange in the logs? Let us know and we’ll investigate. This means no additional charges for investigating / repairing conflicts, or many other frustrating and challenging tasks!</div>'),e.find("option:selected").text().match("Hands-On Support")&&e.after('<div class="infotext option-info" style="display:block"><i class="fa fa-info-circle"></i> A Hands-On Support subscription includes Managed Troubelshooting, site uptime monitoring and automatic response, security and performance optimizations, and 30 minutes of monthly FlexTime! Rather than just simple site troubleshooting, our team will be standing by to help with website changes, content updates, code alterations and more!</div>')}if(jQuery("html.cart").length>0&&jQuery("html.cart #content").prepend('<div id="stepsbox-container"><div class="stepsbox inactive"><a href="cart.php">Choose Service</a></div><div class="stepsbox inactive">Domain Options</div><div class="stepsbox inactive">Configure Service</div><div class="stepsbox inactive"><a href="cart.php?a=view">Cart</a></div><div class="stepsbox inactive"><a href="cart.php?a=checkout">Checkout</a></div></div>'),jQuery("body.cart").length>0){jQuery("body.cart ol.breadcrumb").append('<!--<li class="breadcrumb-item"><a href="cart.php">Choose Service</a></li>--><li class="breadcrumb-item"><a>Domain Options</a></li><li class="breadcrumb-item"><a>Configure Services/Domains</a></li><li class="breadcrumb-item"><a href="cart.php?a=view">Cart</a></li><li class="breadcrumb-item"><a href="cart.php?a=checkout">Checkout</a></li>');var a=new window.URLSearchParams(window.location.search),n=1;switch(a.get("a")){case"add":n=2;break;case"confproduct":case"confdomains":n=3;break;case"view":n=4;break;case"checkout":n=5}bc_selector="body.cart ol.breadcrumb li:nth-child("+n+")",jQuery(bc_selector).addClass("active"),jQuery("body.cart ol.breadcrumb").scrollLeft(jQuery(bc_selector).position().left)}if(jQuery("#registersld").length>0&&jQuery("#registersld").change(function(){sanitize_domain(jQuery("#registersld"))}),jQuery("#transfersld").length>0&&jQuery("#transfersld").change(function(){sanitize_domain(jQuery("#transfersld"))}),jQuery("#owndomainsld").length>0&&jQuery("#owndomainsld").change(function(){sanitize_domain(jQuery("#owndomainsld"))}),jQuery("#owndomaintld").length>0&&jQuery("#owndomaintld").change(function(){sanitize_domain(jQuery("#owndomaintld"))}),jQuery("#inputHostname").length>0){var i=jQuery("#inputHostname");i.after('<small class="infotext"><i class="fa fa-info-circle"></i> This is the name for your server, often a subdomain of your website or organization. If you do not have a domain to use, you may use [a_name].myserver.ws and we will configure the DNS for you.</small>'),i.keyup(function(){ws_delay(function(){var e=sanitize_hostname(i);i.val(e),-1!==e.indexOf(".")?validation_pass(i):validation_fail(i,'<i class="fa fa-warning"></i> A hostname must be a domain or subdomain like xyz.com or sub.xyz.com')},1e3)})}jQuery("#inputNs1prefix").length>0&&jQuery("#inputNs1prefix").val("none"),jQuery("#inputNs2prefix").length>0&&jQuery("#inputNs2prefix").val("none"),jQuery("input[name=rootpw]").length>0&&jQuery("input[name=rootpw]").val(randString(30)).attr("readonly","true").after('<small class="infotext"><i class="fa fa-info-circle"></i> A secure password has been automatically generated for you. You will be able to view this password securely in the Client Centre after the server has been provisioned.</small>');const r=["#inputConfigOption63"];jQuery("body").on("DOMSubtreeModified","#productConfigurableOptions",function(){0===jQuery(".option-info").length&&e()}),e(),jQuery(".domain-config .extra-domain-fields").length>0&&jQuery(".domain-config").each(function(e){jQuery('select[name="domainfield['+e+'][0]"] option[value="Corporation"]:selected')&&jQuery('select[name="domainfield['+e+'][0]"]').val("Canadian Citizen").css("pointer-events","none").after("<div><small><em>Legal type cannot be changed as we are only able to register .ca domains to Canadian Citizens.</em></small></div>"),jQuery('input[type="checkbox"][name="domainfield['+e+'][1]"]').parent().iCheck("check"),jQuery('input[type="checkbox"][name="domainfield['+e+'][2]"]').parent().iCheck("check")}),jQuery("form[name=orderfrm]").length>0&&jQuery("select#stateselect").ready(function(){jQuery(this).change(function(){var e=jQuery("form[name=orderfrm] .alert.alert-success.text-center.large-text strong");e.html('<i class="fa fas fa-spinner fa-spin"></i>'),jQuery.post("cart.php",{ajax:1,calctotal:!0,configure:!0,a:"setstateandcountry",state:jQuery("#stateselect").val(),country:jQuery("#inputCountry").val()}).done(function(t){var a=jQuery(t).find("#totalDueToday").html();e.html(a)})})})});var ws_delay=function(){var e=0;return function(t,a){clearTimeout(e),e=setTimeout(t,a)}}();"function"!=typeof randString&&(window.randString=function(e){for(var t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",a="",n=0;n<e;n++)a+=t.charAt(Math.floor(Math.random()*t.length));return a}),jQuery(document).ready(function(){});